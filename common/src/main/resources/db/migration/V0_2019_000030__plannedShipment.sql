DROP TABLE IF EXISTS PLANNED_SHIPMENT;

CREATE TABLE PLANNED_SHIPMENT
(
    ID                     VARCHAR(36) NOT NULL PRIMARY KEY,
    NUMBER                 INTEGER     NOT NULL,
    CLIENT                 VARCHAR(1)  NOT NULL,
    BUSINESS_LAST_CHANGE   BIGINT,
    INTERNAL_REFERENCE     VARCHAR(30),
    STANDARD_SHIPMENT      BIT,
    CL_LC_STATE            VARCHAR(2),
    DEF_STATUS_ROUTING     ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_ROUTING       DATE,
    DEF_STATUS_CARGO       ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_CARGO         DATE,
    DEF_STATUS_EQUIPMENT   ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_EQUIPMENT     DATE,
    DEF_STATUS_ANCILLARY   ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_ANCILLARY     DATE,
    DEF_STATUS_VALUATION   ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_VALUATION     DATE,
    DEF_STATUS_GENERAL     ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_GENERAL       DATE,
    DEF_STATUS_SCHEDULING  ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_SCHEDULING    DATE,
    DEF_STATUS_BOOKING     ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_BOOKING       DATE,
    DEF_STATUS_COST_CA     ENUM ('C', 'I', 'M', 'N', 'U'),
    DEF_DATE_COST_CALC     DATE,
    LAST_CHANGE            BIGINT,
    CHANGED_BY             VARCHAR(8),
    CHANGE_LOCATION        VARCHAR(1),
    PROPAGATION_STATE      ENUM ('C', 'N'),
    SHIPMENT_TYPE          ENUM ('BO', 'NB'),
    SHIPMENT_STATUS        ENUM ('AC', 'IS', 'NI', 'RE'),
    STATUS_DATE            DATE,
    STATUS_REMARK          VARCHAR(130),
    DATE_OF_CREATION       DATE,
    FOLLOW_UP_DATE         DATE,
    DATE_OF_PLACEMENT      DATE,
    BOOK_VESSEL_COMPL      BIT,
    DG_CHECK_ANNOUNCE      BIT,
    DGC_ANNOUNCE_DATETIME  DATETIME,
    EDI_DEF_FLAG           BIT,
    CS_FINAL_END_DATETIME  DATETIME,
    READY_FOR_TRANSFER     ENUM ('N', 'Y', 'R'),
    RFT_DATETIME           DATETIME,
    TK_INIT_MSG_CREATE     DATE,
    CS_LAST_TRANS_DATETIME DATETIME,
    SPLIT_FLAG             BIT,
    SPLIT_DATE             DATE,
    CANCELLED_BY           VARCHAR(7),
    CANCELLED_FLAG         BIT,
    CANCELLED_DATETIME     DATETIME,
    BOAT_ACCEPT_REQ        BIT,
    OPERATIONAL_RESTR      BIT,
    ANY_BOOKING_S_PRE      BIT,
    ANY_BOOKING_S_MAIN     BIT,
    ANY_BOOKING_S_ON       BIT,
    DG_CONTAINED           BIT,
    REMOTE_CHG_IN_WORK     BIT,
    REMOTE_CHG_REASON      VARCHAR(6),
    WAITING_LIST_PEND      BIT,
    VOY_POL_COMPL          BIT,
    VOY_POL_DATETIME       DATETIME,
    TYPE_MAINTYPE          VARCHAR(2),
    SC_SHIPPING_TERMS      VARCHAR(4),
    US_GRID_CODE           SMALLINT,
    CROSS_BORDER_NO        VARCHAR(10),
    INL_T_FILE_NO          VARCHAR(10),
    MINILANDBRIDGE         BIT,
    POSTPONED              BIT,
    POSTPONED_CHGED_BY     VARCHAR(8),
    POSTPONED_LAST_CHG     LONG,
    PARTNER_CONS           BIT,
    LC_VALID_STATE_A       ENUM ('A', 'D', 'H'),
    OPTION_POL             BIT,
    OPTION_POD             BIT,
    LOCAL_BOOKING_REF      VARCHAR(16),
    HEADER_LINE            VARCHAR(79),
    EDI_MESSAGE_NO         INTEGER,
    TYPE_EXP_MOVEMENT      ENUM ('BB', 'FCL', 'LCL'),
    TYPE_EXP_SERVICE       ENUM ('CIC', 'CIT', 'CPC', 'CPT', 'HOU'),
    TYPE_EXP_HAULAGE       ENUM ('CH', 'MH', 'MX'),
    TYPE_IMP_MOVEMENT      ENUM ('BB', 'FCL', 'LCL'),
    TYPE_IMP_SERVICE       ENUM ('CIC', 'CIT', 'CPC', 'CPT', 'HOU'),
    TYPE_IMP_HAULAGE       ENUM ('CH', 'MH', 'MX'),
    IRT_TRT_FLAG           BIT,
    MR_UNIT                INTEGER,
    MR_UNIT_FROZEN         BIT,
    MR_UNIT_TYPE           ENUM ('F', 'H', 'M', 'O', 'R', 'U'),
    MR_RELATION            ENUM ('AA', 'AE', 'AF', 'AL', 'AM', 'AN', 'AO', 'AW', 'EA', 'EE', 'EF', 'EL', 'EM', 'EN', 'EO', 'ES', 'EW', 'EX', 'FA', 'FE', 'FF', 'FL', 'FN', 'LA', 'LE', 'LF', 'LL', 'LM', 'LN', 'LO', 'MA', 'ME', 'ML', 'MM', 'MN', 'MO', 'NA', 'NE', 'NF', 'NL', 'NM', 'NN', 'NO', 'OA', 'OE', 'OL', 'OM', 'ON', 'WA', 'WE', 'WW', 'XE'),
    MR_SSY                 ENUM ('AAN', 'AAP', 'AAS', 'AAX', 'ABS', 'ABX', 'AC1', 'AC2', 'AC3', 'ADX', 'AEM', 'AES', 'AEW', 'AEX', 'AGS', 'AGX', 'AG1', 'AG2', 'ALX', 'AL1', 'AL2', 'AL3', 'AL4', 'AL5', 'AL6', 'AL7', 'AMF', 'ANA', 'AND', 'ANE', 'ANL', 'ANM', 'ANN', 'ANP', 'ANS', 'ANZ', 'AN1', 'AN2', 'APX', 'AR1', 'ASA', 'ASE', 'ASW', 'AS2', 'AS3', 'AS4', 'AS5', 'ATA', 'ATL', 'ATM', 'ATN', 'ATP', 'AT1', 'AT2', 'AT3', 'AWM', 'AXE', 'AXL', 'AXM', 'AXN', 'AX1', 'AX2', 'AX3', 'AX4', 'AZX', 'A01', 'BAX', 'BCX', 'BEC', 'BEX','BF1', 'BF2', 'BF3', 'BGX', 'BHF', 'BLX', 'BMX', 'BPX', 'BSF', 'BSX', 'BX1', 'BX2', 'BZX', 'CAR', 'CAT', 'CAX', 'CBW', 'CCE', 'CCI', 'CC1','CC2','CC3','CC4','CEC','CES','CEX','CGX','CHS','CH1','CH2','CIS','CIX','CKA','CMS','CNP','CON','CRS','CSE','CSS','CUS','DEX','EAM','EAN','EAS','EA1','EA2','EA3','EA4','EA5','EA6','EA7','ECX','EC1','EC2','EC3','EC4','EC5','EEX','EE1','EE2','ELS','EL1','EL2','EME','EMF','EMX','EPP','ESS','ES1','ES3','EUA','EUB','EUC','EUD','EUM','EU1','EU2','EU3','EU4','EU5','EWA','EWX','EW1','EW2','EXA','EXL','EXM','EXN','EXO','EX1','EX2','FBG','FBP','FE1','FE2','FE3','FE4','FE5','FFE','FIX','FLP','FRS','FSW','FTP','GCS','GC2','GEM','GKX','GM5','GM6','GM7','GM8','GPX','GS1','GTE','GTS','HPX','HUB','ICS','IEX','IGE','IG1','IG2','IMX','IOS','IO2','IRA','IRE','IRL','IRM','IRN','IRW','JCS','JCX','JPX','JP1','JSJ','KHS','KME','KMS','KSI','KWF','LEX','LIB','LP1','LP3','LP4','LP5','LP6','LP7','LXA','LXE','LXM','LXN','LXO','MAS','MAX','MCA','MCB','MCS','MD1','MD2','MD3','MEI','MES','MEX','ME1','ME2','ME3','MIA','MIN','MNX','MPS','MSE','MSN','MSW','MVX','MWX','MXA','MXC','MXE','MXL','MXN','MXO','MXP','NAA','NAE','NAM','NAX','NBS','NB1','NB2','NCA','NCC','NCE','NCI','NCM','NEA','NFS','NLN','NME','NNL','NPX','NP1','NP2','NP3','NTX','NW1','NW2','NW3','NXA','NXE','NXL','NXM','NXO','NYE','NYX','NY2','NZA','NZB','NZC','NZT','NZX','OCE','OXE','OXL','OXM','OXN','PA1','PA2','PCX','PEX','PID','PIS','PN1','PN2','PN3','PN4','PP1','PP2','PS1','PS3','PS4','PS5','PS6','PS7','PS8','RAM','RAN','RAP','RAT','RES','REX','RSS','RS2','RS3','RS4','RS5','SAA','SAB','SAC','SAF','SAL','SAS','SAT','SAW','SA1','SA2','SBX','SCE','SCS','SCX','SC2','SDX','SEC','SE1','SE2','SE3','SE4','SIS','SPL','SRX','SSL','SS1','SS2','SVX','SWX','SW1','SW2','SW3','TBS','TIX','TMS','TNE','TPA','TPB','TPC','TPD','TPE','TPF','TPI','TPJ','TPL','TPM','TPN','TPO','TPP','TPR','TPS','TPT','TPU','TPV','TPX','TPZ','TSX','UFE','UFF','UFL','USF','USW','US1','US2','US3','US4','US5','VAX','VCF','VC2','VNF','WAF','WAN','WAS','WAX','WA2','WBS','WC1','WC2','WEA','WMX','WSN','WSX','WS2','WS3','WX2','XAE','ZCX'),
    BUSINESS_NUMBER        INTEGER,
    ROUTE_PRODUCT_NO       INTEGER,
    PRICE_AGREEMENT_NO     INTEGER,
    BF_BGM_REFERENC_NO     VARCHAR(35),
    BF_UNB_PARTNER_ID      VARCHAR(35),
    EDI_VERSION_NO         DECIMAL(6, 3),
    SEND_SAME_VERS_NO      BIT,
    OURE_CHECK_OK          BIT,
    OURE_CHECK_DATE        DATE,
    CMS_EXP_REPORTED       BIT,
    CMS_EXP_REPOR_DATE     DATE,
    CMS_IMP_REPORTED       BIT,
    CMS_IMP_REPOR_DATE     DATE,
    IN_BGM_REFERENC_NO     VARCHAR(35),
    IN_UNB_PARTNER_ID      VARCHAR(35),
    DESADV_BGM_REF_NO      VARCHAR(35),
    DESADV_UNB_PARTNER     VARCHAR(35),
    TRPN_STATUS            ENUM ('C', 'I'),
    TRPN_STATUS_DATE       DATE,
    TRACING_RELEVANT       BIT,
    US_FLAG_RESTR_BY       ENUM ('A1', 'A2', 'A3', 'CO', 'EX', 'ST', 'TC', 'TG'),
    REQ_DELIVERY_DATE      DATE,
    STOPS_EXPORT_SIDE      SMALLINT,
    STOPS_IMPORT_SIDE      SMALLINT,
    MR_POL_STD_LOCODE      VARCHAR(5),
    MR_POD_STD_LOCODE      VARCHAR(5),
    MR_POL_ORG_NUMBER      INTEGER,
    MR_POD_ORG_NUMBER      INTEGER,
    DG_PRECHECK_STATE      ENUM ('C', 'I', 'P'),
    DEP_DATETIME_ON_1ST_BC DATETIME,
    ARR_DATETIME_ON_1ST_BC DATETIME,
    NEXT_CALC_DATE         DATE,
    PLANNED_HANDOVER       DATE,
    IMPORT_HANDOVER        BIT,
    RDD_CHANGE_REASON      ENUM ('GAD', 'GCR', 'GST', 'HCD')
--    FK_TS1160NUMBER        INTEGER,
--    FK_TS1160CLIENT        VARCHAR(1),
);

CREATE UNIQUE INDEX IDX_PLANNED_SHIPMENT_1 ON PLANNED_SHIPMENT (CLIENT ASC, NUMBER ASC);

CREATE INDEX IDX_PLANNED_SHIPMENT_2 ON PLANNED_SHIPMENT (CLIENT ASC, NUMBER ASC, LAST_CHANGE DESC);

