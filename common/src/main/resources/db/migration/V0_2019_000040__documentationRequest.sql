DROP TABLE IF EXISTS DOCUMENTATION_REQUEST;

CREATE TABLE DOCUMENTATION_REQUEST
(
    ID                      VARCHAR(36) NOT NULL PRIMARY KEY,
    RELATIVE_NUMBER         INTEGER     NOT NULL,
    NOTICES_ID              INTEGER,
    CL_DOC_REQ_TYPE         ENUM ('D', 'M'),
    STATUS                  ENUM ('D', 'P'),
    PRIORITY                BIT,
    DC_RESPONSIBLE          VARCHAR(8),
    AREA_RESPONSIBLE        VARCHAR(8),
    LC_VALID_STATE_A        ENUM ('A', 'D', 'H', 'P'),
    CHANGED_BY              VARCHAR(8)  NOT NULL,
    LAST_CHANGE             BIGINT,
    LAST_BUSINESS_CHANGE    BIGINT,
    START_LOCATION          VARCHAR(36),
    END_LOCATION            VARCHAR(36),
    CUSTOMER_ID             VARCHAR(36),
    ISSUER_ID               VARCHAR(36),
    ISSUER_GEO_ID           VARCHAR(36),
    FORWARDER_ID            VARCHAR(36),
    SHIPPER_ID              VARCHAR(36),
    CONSIGNEE_ID            VARCHAR(36),
    BOOKING_OFFICE_ID       VARCHAR(36),
    PLANNED_SHIPMENT_ID     VARCHAR(36),
    DOCUMENTATION_CENTER_ID VARCHAR(36),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_CUSTOMER FOREIGN KEY (CUSTOMER_ID)
        REFERENCES ORGANIZATION_PLACE (ID),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_ISSUER FOREIGN KEY (ISSUER_ID)
        REFERENCES ORGANIZATION_PLACE (ID),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_ISSUER_GEO FOREIGN KEY (ISSUER_GEO_ID)
        REFERENCES GEO_HIERARCHY (ID),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_FORWARDER FOREIGN KEY (FORWARDER_ID)
        REFERENCES ORGANIZATION_PLACE (ID),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_SHIPPER FOREIGN KEY (SHIPPER_ID)
        REFERENCES ORGANIZATION_PLACE (ID),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_CONSIGNEE FOREIGN KEY (CONSIGNEE_ID)
        REFERENCES ORGANIZATION_PLACE (ID),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_BOOKING_OFFICE FOREIGN KEY (BOOKING_OFFICE_ID)
        REFERENCES ORGANIZATION_PLACE (ID),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_PLANNED_SHIPMENT FOREIGN KEY (PLANNED_SHIPMENT_ID)
        REFERENCES PLANNED_SHIPMENT (ID),
    CONSTRAINT FK_DOCUMENTATION_REQUEST_DOCUMENTATION_CENTER FOREIGN KEY (DOCUMENTATION_CENTER_ID)
        REFERENCES ORGANIZATION_PLACE (ID)

--      DA_DC_GROUP         CHAR(10),
--      DA_DC_USER          CHAR(7),
--      DA_BVC              CHAR(1),
--      DA_SDC              CHAR(1),
--      DA_CLOSE_DOCU_DATE  DATE,
--      DA_CLOSE_DOCU_TIME  TIME,
--      DA_E_REC_DOC_TYPE   CHAR(2),
--      DA_RD_DATE          DATE,
--      DA_RD_TIME          TIME,
--      DA_RD_MEDIUM        CHAR(1),
--      DA_RD_SENDER_MC_N   CHAR(6),
--      DA_RD_SENDER_MC_S   SMALLINT,
--      DA_SI_RECEIVED      CHAR(1),
--      DA_SI_REMIND_COUNT  INTEGER,
--      DA_AUDIT_REQUIRED   CHAR(1),
--      DA_AUDIT_RESULT     CHAR(1),
--      DA_DRAFT_SEND       CHAR(1),
--      DA_DRAFT_CORR_REQ   CHAR(1),
--      DA_DRAFT_APPROVED   CHAR(1),
--      DA_DRAFT_AP_MEDIUM  CHAR(1),
--      DA_1ST_ARR_DATE     DATE,
--      DA_1ST_ARR_TIME     TIME,
--      DA_1ST_ARR_DATE_O   CHAR(1),
--      DA_PAYMENT_REC      CHAR(1),
--      DA_DOC_COLLECTED    CHAR(1),
--      DA_DOC_RELEASED     CHAR(1),
--      DA_START_STD_LOC    CHAR(5),
--      DA_START            CHAR(5),--organization
--      DA_1ST_POL          CHAR(5),
--      DA_1ST_ETD          DATE,
--      DA_1ST_ETD_TIME     TIME,
--      DA_1ST_DEP_DATE_O   CHAR(1),
--      DA_1ST_DPVOYAGE     INTEGER,
--      DA_1ST_SCHED_VOYAG  CHAR(10),
--      DA_LAST_POD         CHAR(5),
--      DA_MAIN_POL         CHAR(5),
--      DA_MAIN_DPVOYAGE    INTEGER,
--      DA_MAIN_SCHED_VOYA  CHAR(10),
--      DA_MAIN_POD         CHAR(5),
--      DA_END              CHAR(5),
--      DA_END_STD_LOC      CHAR(5),
--      DA_MR_MC_N          CHAR(6),
--      DA_MR_MC_S          SMALLINT,
--      DA_EP_MC_N          CHAR(6),
--      DA_EP_MC_S          SMALLINT,
--      DA_ER_MC_N          CHAR(6),
--      DA_ER_MC_S          SMALLINT,
--      DA_BL_PREVAL_CHECK  CHAR(1),
--      DA_EDI_SI_EXC_STAT  CHAR(1),
--      DA_DUE_DATE_CUSTMS  TIMESTAMP,
--      DA_DUE_DATE_ERD_PR  TIMESTAMP,
--      DA_DUE_DATE_EXCEPT  TIMESTAMP
--      DN_TS0550DOC_NO     CHAR(17)      NOT NULL,
--      DN_TS0550DOC_TYPE   CHAR(2)       NOT NULL,
--      DN_TS0550DOC_STAT   CHAR(1)       NOT NULL,
--      DN_TS0550DOC_PRINT  CHAR(1),
--      DN_TS0550MD_TYPE    CHAR(2)       NOT NULL,
--      DN_TS0550MTD_NO_S   CHAR(2),
--      DN_TS0550MD_PRE_AL  CHAR(1),
--      DN_TS0550MD_ISSUE   CHAR(1),
--      DN_TS0550MD_ORDER   CHAR(1),
--      DN_TS0550MD_REC_FO  CHAR(1),
--      DN_TS0550DRAFT_REQ  CHAR(1),
--      FK_TS0550RELATIVE   SMALLINT,
--      FK0TS0630SH_CLIENT  CHAR(1),
--      FK0TS0630SH_NUMBER  INTEGER,
--      FK0TS0630RELATIVE   SMALLINT,
);

CREATE UNIQUE INDEX IDX_DOCUMENTATION_REQUEST_1 ON DOCUMENTATION_REQUEST (PLANNED_SHIPMENT_ID, RELATIVE_NUMBER ASC);

CREATE INDEX IDX_DOCUMENTATION_REQUEST_2 ON DOCUMENTATION_REQUEST (PLANNED_SHIPMENT_ID, RELATIVE_NUMBER ASC, LAST_CHANGE ASC);
